<header class="dashboard-header">
  <a routerLink="/dashboard" routerLinkActive="active">
      <h1>Dashboard Tech City</h1>
    </a>  
  <nav>
    <a routerLink="/dashboard/ocorrencias" routerLinkActive="active">
      <span class="icon">ğŸ“‹</span> OcorrÃªncias
    </a>
    <a routerLink="/admin" routerLinkActive="active">
      <span class="icon">ğŸ‘¤</span> UsuÃ¡rios
    </a>
          <a routerLink="/relatorio" routerLinkActive="active">
      <span class="icon">ğŸ“‹</span> RelatÃ³rios
    </a>
          <a routerLink="/chatBot" routerLinkActive="active">
      <span class="icon">ğŸ¤–</span> ChatBot
    </a>
  </nav>
</header>

<main class="dashboard-main">
  <!-- Ãcones flutuantes de fundo -->


<div class="relatorio-container">

    <div class="animated-bg">
    <span class="icon alert" data-speed="0.3">âš ï¸</span>
    <span class="icon building" data-speed="0.2">ğŸ¢</span>
    <span class="icon car" data-speed="0.25">ğŸš—</span>
    <span class="icon tree" data-speed="0.15">ğŸŒ³</span>
    <span class="icon fire" data-speed="0.35">ğŸ”¥</span>
  </div>
  
  <h2>ğŸ“Š RelatÃ³rio de OcorrÃªncias por UsuÃ¡rio</h2>

  <div class="input-area">
    <label for="userId">ID do UsuÃ¡rio:</label>
    <input
      type="number"
      id="userId"
      [(ngModel)]="userId"
      placeholder="Digite o ID do usuÃ¡rio"
    />
    <button (click)="gerarRelatorio()" [disabled]="carregando">
      {{ carregando ? 'Gerando...' : 'Gerar RelatÃ³rio' }}
    </button>
  </div>

  <div *ngIf="erro" class="erro">
    âš ï¸ {{ erro }}
  </div>

  <div *ngIf="relatorio" class="resultado">
    <h3>Resultado:</h3>
    <p><strong>ID do UsuÃ¡rio:</strong> {{ relatorio.userId }}</p>
    <p><strong>Total de OcorrÃªncias:</strong> {{ relatorio.qtdOcorrencias }}</p>
    <p><strong>Ãšltima OcorrÃªncia:</strong> {{ relatorio.ultimaTitulo }}</p>
    <p><strong>Data da Ãšltima:</strong> {{ relatorio.ultimaData | date:'dd/MM/yyyy HH:mm' }}</p>
  </div>
</div>
</main>
